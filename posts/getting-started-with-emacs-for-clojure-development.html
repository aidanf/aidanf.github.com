<!doctype html>
<html><!-- InstanceBegin template="/Templates/page-full-width.dwt" codeOutsideHTMLIsLocked="false" -->

<head>


    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" >
    <meta name="description" content="Aidan Finn's Website">
    <meta name="keywords" content="swift, clojure, ios, screencasts, book, python, ruby, machine learning, sligo">
    <meta name="author" content="Aidan Finn">

    <!-- InstanceBeginEditable name="doctitle" -->
    <title>
        Getting started with emacs for clojure development - /aidanf/
    </title>
    <!-- InstanceEndEditable -->

    <!-- FAV and TOUCH ICONS -->
    <link rel="shortcut icon" href="/favicon.ico">

    <!-- FONTS -->
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=UnifrakturMaguntia' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Coustard' rel='stylesheet' type='text/css'>

    <!--[if lte IE 9]>
        <script src="/js/html5shiv.js"></script>
        <script src="/js/selectivizr-min.js"></script>
    <![endif]-->

    <!-- STYLES -->
    <link rel="stylesheet" type="text/css" media="print" href="/css/print.css">
    <link rel="stylesheet" type="text/css" href="/css/grid.css">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="/css/uniform.default.css">
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <link rel="stylesheet" type="text/css" href="/css/flexslider.css">

    <!-- SCRIPTS -->
    <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/js/jquery-1.8.3.min.js"><\/script>')</script>


    <!-- InstanceBeginEditable name="head" -->
	<!-- InstanceEndEditable -->

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-539512-1', 'auto');
  ga('send', 'pageview');
</script>

        
</head>

<body>

    <!-- #PAGE -->
    <div id="page" class="hfeed site">

      

<!-- .site-header -->
<header class="site-header wrapper" role="banner">

    <!-- .row -->
    <div class="row">

        <!-- .site-title -->
        <hgroup>
            <h1 class="site-title"><a href="/" title="/aidanf/" rel="home">/aidanf/</a></h1>
            <h2 class="site-description">musings of a curious coder</h2>
        </hgroup>
        <!-- .site-title -->

        <!-- #site-navigation -->
        <nav id="site-navigation" class="main-navigation" role="navigation">
            <ul>
                <li ><a href="/">Blog</a></li>
                <li ><a href="/learn-swift">Learn Swift</a></li>
                <li ><a href="/about">About</a></li>
            </ul>
        </nav>
        <!-- #site-navigation -->

    </div>
    <!-- .row -->
</header>
<!-- .site-header -->

      <!-- #main -->
      <section id="main" class="middle wrapper">
        <div class="row row-fluid">





                <!-- #primary -->
                <div id="primary" class="site-content">

                    <!-- #content -->
                    <div id="content" role="main">
                      <!-- InstanceBeginEditable name="Middle-Content" -->

<!-- .blog-single -->
<div class="blog-single readable-content">


    <!-- .hentry -->
    <article class="post type-post format-standard hentry">


        <!-- .entry-header -->
        <header class="entry-header">
            <h1 class="entry-title">Getting started with emacs for clojure development</h1>
        </header>
        <!-- .entry-header -->

        <!-- .entry-meta -->
        <div class="entry-meta">
            posted
            on <a href="#" title="11:15 pm" rel="bookmark">
            <time class="entry-date" datetime="2014-10-03T00:00:00+01:00">Oct 3, 2014
            </time>
        </a>

            <!-- .share-links -->
            <div class="share-links">
                <a>SHARE</a>

                <!-- .share-wrap -->
                <div class="share-wrap">

                    <!-- .facebook-wrap -->
                    <div class="facebook-wrap">

                        <div id="fb-root"></div>
                        <script>(function (d, s, id) {
                            var js, fjs = d.getElementsByTagName(s)[0];
                            if (d.getElementById(id)) return;
                            js = d.createElement(s);
                            js.id = id;
                            js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
                            fjs.parentNode.insertBefore(js, fjs);
                        }(document, 'script', 'facebook-jssdk'));</script>
                        <div class="fb-like" data-send="false" data-layout="button_count" data-width="400"
                             data-show-faces="false" data-colorscheme="light" data-action="like"></div>

                    </div>
                    <!-- .facebook-wrap -->

                    <!-- .twitter-wrap -->
                    <div class="twitter-wrap">
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function (d, s, id) {
                            var js, fjs = d.getElementsByTagName(s)[0];
                            if (!d.getElementById(id)) {
                                js = d.createElement(s);
                                js.id = id;
                                js.src = "//platform.twitter.com/widgets.js";
                                fjs.parentNode.insertBefore(js, fjs);
                            }
                        }(document, "script", "twitter-wjs");</script>
                    </div>
                    <!-- .twitter-wrap -->

                    <!-- .google-wrap -->
                    <div class="google-wrap">
                        <!-- Place this tag where you want the +1 button to render. -->
                        <div class="g-plusone" data-size="medium"></div>

                        <!-- Place this tag after the last +1 button tag. -->
                        <script type="text/javascript">
                            (function () {
                                var po = document.createElement('script');
                                po.type = 'text/javascript';
                                po.async = true;
                                po.src = 'https://apis.google.com/js/plusone.js';
                                var s = document.getElementsByTagName('script')[0];
                                s.parentNode.insertBefore(po, s);
                            })();
                        </script>
                    </div>
                    <!-- .google-wrap -->

                    <!-- .pinterest-wrap -->
                    <div class="pinterest-wrap">
                        <a href="http://pinterest.com/pin/create/button/?url=http%3A%2F%2Fthemes.pixelwars.org%2Fread%2Fblog-single.html&media=http%3A%2F%2Fthemes.pixelwars.org%2Fread%2Fimages%2Fblog%2Fblog-01.jpg&description=Adaptive%20Vs.%20Responsive%20Layouts%20And%20Optimal%20Form%20Field%20Labels"
                           class="pin-it-button" count-layout="horizontal"><img
                                src="//assets.pinterest.com/images/PinExt.png" alt="Pin It" title="Pin It"/></a>
                        <script type="text/javascript" src="//assets.pinterest.com/js/pinit.js"></script>
                    </div>
                    <!-- .pinterest-wrap -->

                </div>
                <!-- .share-wrap -->


            </div>
            <!-- .share-links -->


        </div>
        <!-- .entry-meta -->


        <!-- .featured-image -->
        
        <!-- .featured-image -->


        <!-- .entry-content -->
        <div class="entry-content">
            <p>Emacs is a great tool for clojure development. In fact you often hear people raving about the marriage of emacs and clojure without any clear explanation of if or why it's better than any other editor that you could use for clojure development.</p><p>I'm not going to get into why emacs is good for clojure development here. The aim of this post is to help someone who is looking to try it get up and running quickly, so they can try it for themselves.</p><p>I'm assuming you already have emacs installed and <a href="/posts/getting-setup-with-clojure">clojure setup</a>. I won't go into the basics of using emacs here, but I'll outline a few of the features that you may find handy for working with clojure code.</p><h2>Emacs Live</h2><p>The quickest way to get your emacs up and running is to install <a href="https://github.com/overtone/emacs-live">emacs-live</a>. Emacs live is</p><blockquote>"An opinionated set of defaults for getting started with a specific focus on live coding with&nbsp;<a href="http://overtone.github.io/">Overtone</a><span style="font-size:16px">and&nbsp;</span><a href="http://github.com/quil/quil">Quil</a><span style="font-size:16px">." </span></blockquote><p><span style="font-size:16px">It provides an excellent default setup for working with clojure.</span></p><h2>Emacs Modes for clojure development</h2><p>Among the most important modes are <a href="https://github.com/clojure-emacs/clojure-mode">Clojure-mode</a> and <a href="http://www.emacswiki.org/ParEdit">Paredit</a> along with repl integration via <a href="https://github.com/clojure-emacs/cider">Cider</a>.</p><h3>Paredit</h3><p>One of the most common complaints I hear from people who haven't tried clojure is about the abundant parentheses and how difficult they are to manage. Managing and matching parentheses is really a problem for the text editor, not the programmer. If you have trouble with unmatched parentheses, then either your text editor is not up to the task or you're not using it correctly.</p><p>Paredit mode is an emacs mode that takes care of the minutiae of working with s-expressions. Some of the things it does for you include:</p><ul><li>Ensures your parentheses are always balanced. E.g. It won't allow you to create an opening bracket without the corresponding bracket, or it won't let you delete a single bracket - you have to delete the entire expression.&nbsp;</li><li>Lets you cut, paste, move etc s-expressions in their entirety. You can move the entire sub-tree of an expression somewhere else or wrap an entire expression with another one.</li></ul><p>If you've never used Paredit before, it can be a little off-putting. You need to move from thinking in terms of text-tokens to thinking in terms of expressions. Once you get used to it though, the parentheses that so many people are wary of fade into the background. They become easy to manage.</p><p>To get a feel for Paredit, lets edit a small clojure file and play around with the brackets.</p><p>Lets create a new clojure project...</p><script src="https://gist.github.com/aidanf/e54a8b6438a1b05e2452.js?file=terminal.sh"></script><p id="yui_3_17_2_1_1411661917196_162585"><br></p><p>...and then open the generated core.clj file.</p><script src="https://gist.github.com/aidanf/e54a8b6438a1b05e2452.js?file=core.clj"></script><p id="yui_3_17_2_1_1411661917196_164775">If you've setup emacs-live you should see the following list of active modes when you open this file:</p>

<p>
<img src="/images/pareditmode.png" alt="Active modes for a .clj file: Clojure, Undo-Tree, yas, VHl, AC, Paredit"/> <br/><b>Active modes for a .clj file: Clojure, Undo-Tree, yas, VHl, AC, Paredit</b>
</p>

<p>Now, try to delete a closing ")". You can't. Navigate to the opening "(" of the println form. Press C-k to delete it. Notice that it deletes the entire form, but not the entire line - the last ")" remains. Keep, pressing C-k - you can't delete that closing ")"!</p><p>Press C-y to paste the println form back to where it was. Now highlight the println form (Press C-space on the opening "(" and then move the cursor to the closing ")" ). Now if you enter an opening bracket "(" it will wrap that entire expression with brackets. There's a lot more stuff you can do with Paredit mode that facilitates working with lisp-forms - take some time to get comfortable with it.</p><h3>Clojure-mode</h3><p>This provides indentation, highlighting and navigation for your clojure code. You don't really need to learn to use it - just know that you need what it provides.</p><h3>Cider</h3><p>Cider provides a set of commands for starting and running a repl from emacs, and then sending code for evaluation to that repl. This is core to emacs clojure development. You get into a workflow of constantly evaluating and re-evaluating functions as you iterively develop them and incrementally build up a working program in the repl.&nbsp;</p><p>Let's continue with our example project from above and launch a repl from emacs.</p><p><code>M-x nrepl-jack-in</code> </p>

<p>will start a repl (This command may be cider-jack-in instead of nrepl-jack-in, depending on which version of cider you have installed). Once it's started you should be able to enter clojure code in the repl and see the results immediately.</p>

<p>Let's evaluate some of our clojure code in the repl. The handiest way to do this is <code>C-c C-e</code>. This will evaluate the previous form in the text window and print the results.</p>

<p>Lets navigate to the space just after the last closing ")". Now if you run <code>C-c C-e</code> you should see the results of evaluating that function in your status window i.e. (<code>#hello.core/foo</code>).</p>

<p>Now switch you the repl window and change to the hello.core namespace.</p>

<p><code>(ns hello.core)</code></p>

<p>You can now run the foo function from the repl.</p>

<p><code>(foo "Goodbye")</code></p>

<p>Let's say our foo function is broken and we want to debug it. We'll set x in the repl and then we can step into our function and evaluate the forms in the function individually.</p>

<p>In the repl enter </p>

<p><code>(def x "Broken")</code></p>

<p>Now go back to the core.clj file and navigate the cursor to the space after the closing bracket of the angle println form. If we press <code>C-c C-e</code> we should see "Broken Hello, World!"in the repl</p>

<p>This is a very simple example, but in this way we can step through functions evaluating forms, seeing what every form in a function evaluates to for a given input. We can re-evaluate a function at any time to update the code that the repl is running. This gives us a lot of power to inspect how our code is behaving and to interively build up a working program in the repl.</p>

<p>Here are a few more commands that are useful for interacting with the repl and evaluating code. You can find the full list of available commands in the <a href="https://github.com/clojure-emacs/cider#keyboard-shortcuts">cider documentation</a>.</p><table>
    <tr>
        <td colspan="2"><i>Buffer Shortcuts</i></td>
    </tr>

    <tr>
        <td><b>C-c C-e</b></td>
        <td>Evaluate the form preceding the cursor and print the result to the echo area</td>
    </tr>

    <tr>
        <td><b>C-c C-r</b></td>
        <td>Evaluate the highlighted region</td>
    </tr>

    <tr>
        <td><b>C-c M-n</b></td>
        <td>Switch the namespace of the repl buffer to the namespace of the current buffer</td>
    </tr>
    <tr>
        <td><b>C-c C-z</b></td>
        <td>Switch to the repl buffer (and back to previous buffer)</td>
    </tr>
    <tr>
        <td><b>C-c C-k</b></td>
        <td>Load (all) the current buffer</td>
    </tr>
    <tr>
        <td><b>C-c C-d</b></td>
        <td>Display the doc string for the symbol under the cursor</td>
    </tr>
    <tr>
        <td colspan="2"><i>Repl Shortcuts</i></td>
    </tr>
    <tr>
        <td><b>M-p</b></td>
        <td>previous repl command</td>
    </tr>
    <tr>
        <td><b>M-n</b></td>
        <td>next repl command</td>
    </tr>
    <tr>
        <td><b>Tab</b></td>
        <td>Autocomplete current symbol</td>
    </tr>
    <tr>
        <td><b>C-c C-z</b></td>
        <td>Back to previous buffer</td>
    </tr>
</table><p>So that's a very quick and basic tour of how to get started with emacs for clojure development. The best thing to do now is to jump in and start using emacs for editing clojure code, while at the same time reading the paredit and cider documentation and incorporating them into your workflow as you go along.</p><p> </p>

        </div>
        <!-- .entry-content -->


    </article>
    <!-- .hentry -->

    <!-- .nav-single -->
    <nav class="nav-single row-fluid">
        
        <div class="nav-previous span6">
            <h4>PREVIOUS POST</h4>
            <a href="/posts/whats-in-a-name" rel="prev"><span class="meta-nav">←</span> What's in a name?</a>
        </div>
        

        
        <div class="nav-next span6">
            <h4>NEXT POST</h4>
            <a href="/posts/validating-emails-in-rails" rel="next">Validating Emails in Rails (and other web frameworks) <span class="meta-nav">→</span></a>
        </div>
        

    </nav>
    <!-- .nav-single -->

</div>
<!-- .blog-single -->


<!-- InstanceEndEditable -->
                    </div>
                    <!-- #content -->

                </div>
                <!-- #primary -->





         </div>
      </section>
      <!-- #main -->





          <!-- .site-footer -->
      <footer class="site-footer wrapper" role="contentinfo">
        <!-- .row -->
        <div class="row">


          <!-- #supplementary -->
          <div id="supplementary" class="row-fluid">


            <!-- .widget-area -->
            <!--<div class="widget-area span3" role="complementary">

              <aside class="widget widget_text">
                <h3 class="widget-title">About Read</h3>
                <div class="textwidget">Read is a minimalistic wordpress theme focused on readability. This is a just text widget with some dummy content. This is a just text widget with some dummy content. This is a just text widget with some dummy content.</div>
              </aside>

            </div>-->
            <!-- .widget-area -->


            <!-- .widget-area -->
            <!--<div class="widget-area span3" role="complementary">

              <aside class="widget widget_recent_entries">
                  <h3 class="widget-title">Recent Posts</h3>
                  <ul>
                    <li><a href="#" title="Thinking About Responsive Design">Thinking About Responsive Design</a></li>
                    <li><a href="#" title="Adaptive Vs. Responsive Layouts And Optimal Form Field Labels">Adaptive Vs. Responsive Layouts And Optimal Form Field Labels</a></li>
                    <li><a href="#" title="Hello world!">Hello world!</a></li>
                  </ul>
                </aside>

            </div>-->
            <!-- .widget-area -->

            <!-- .widget-area -->
            <!--<div class="widget-area span3" role="complementary">

              <aside class="widget widget-instagram">
                  <h3 class="widget-title">Photos on Instagram</h3>
                  <div class="instagram"></div>
                  <script src="../js/instagram.js"></script>
                </aside>

            </div>-->
            <!-- .widget-area -->

            <!-- .widget-area -->
            <!--<div class="widget-area span3" role="complementary">

              <aside class="widget widget_categories">
                  <h3 class="widget-title">Categories</h3>
                  <ul>
                    <li><a href="#" title="View all posts filed under Uncategorized">Web Design</a></li>
                    <li><a href="#" title="View all posts filed under Uncategorized">Javascript</a></li>
                    <li><a href="#" title="View all posts filed under Uncategorized">Typography</a></li>
                    <li><a href="#" title="View all posts filed under Uncategorized">Freebies</a></li>
                  </ul>
                </aside>

            </div>-->
            <!-- .widget-area -->


          </div>
          <!-- #supplementary -->


          <!-- .site-info -->
          <div class="site-info">(c) Aidan Finn</div>
          <!-- .site-info -->

        </div>
        <!-- .row -->
      </footer>
      <!-- .site-footer -->

    </div>
    <!-- #PAGE -->




    <!-- SCRIPTS -->
    <script src="/js/detectmobilebrowser.js"></script>
    <script src="/js/modernizr.js"></script>
    <script src="/js/jquery.imagesloaded.min.js"></script>
    <script src="/js/jquery.fitvids.js"></script>
    <script src="/js/jquery.uniform.min.js"></script>

    <!-- InstanceBeginEditable name="body-end" -->
    <script src="/js/jquery.validate.min.js"></script>
	<!-- InstanceEndEditable -->

    <script src="/js/main.js"></script>


<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '571e954ac88d904f20018098');
    t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
    t.src = 'https://d36ee2fcip1434.cloudfront.net/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>
</body>
<!-- InstanceEnd --></html>
