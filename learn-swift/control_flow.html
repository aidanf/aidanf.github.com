<!doctype html>
<html><!-- InstanceBegin template="/Templates/page-full-width.dwt" codeOutsideHTMLIsLocked="false" -->

<head>


    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" >
    <meta name="description" content="Aidan Finn's Website">
    <meta name="keywords" content="swift, clojure, ios, screencasts, book, python, ruby, machine learning, sligo">
    <meta name="author" content="Aidan Finn">

    <!-- InstanceBeginEditable name="doctitle" -->
    <title>
        Chapter 9 Control Flow | Learn Swift
    </title>
    <!-- InstanceEndEditable -->

    <!-- FAV and TOUCH ICONS -->
    <link rel="shortcut icon" href="/favicon.ico">

    <!-- FONTS -->
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=UnifrakturMaguntia' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Coustard' rel='stylesheet' type='text/css'>

    <!--[if lte IE 9]>
        <script src="/js/html5shiv.js"></script>
        <script src="/js/selectivizr-min.js"></script>
    <![endif]-->

    <!-- STYLES -->
    <link rel="stylesheet" type="text/css" media="print" href="/css/print.css">
    <link rel="stylesheet" type="text/css" href="/css/grid.css">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="/css/uniform.default.css">
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <link rel="stylesheet" type="text/css" href="/css/flexslider.css">

    <!-- SCRIPTS -->
    <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/js/jquery-1.8.3.min.js"><\/script>')</script>


    <!-- InstanceBeginEditable name="head" -->
	<!-- InstanceEndEditable -->

        
        <link rel="stylesheet" type="text/css" href="/css/book.css">
<meta property="og:image" content="http://www.aidanf.net/images/learn-swift/cover-web.png" />
        
</head>

<body>

    <!-- #PAGE -->
    <div id="page" class="hfeed site">

      

<!-- .site-header -->
<header class="site-header wrapper" role="banner">

    <!-- .row -->
    <div class="row">

        <!-- .site-title -->
        <hgroup>
            <h1 class="site-title"><a href="/" title="/aidanf/" rel="home">/aidanf/</a></h1>
            <h2 class="site-description">musings of a curious coder</h2>
        </hgroup>
        <!-- .site-title -->

        <!-- #site-navigation -->
        <nav id="site-navigation" class="main-navigation" role="navigation">
            <ul>
                <li ><a href="/">Blog</a></li>
                <li class="current-menu-item"><a href="/learn-swift">Learn Swift</a></li>
                <li ><a href="/about">About</a></li>
            </ul>
        </nav>
        <!-- #site-navigation -->

    </div>
    <!-- .row -->
</header>
<!-- .site-header -->

      <!-- #main -->
      <section id="main" class="middle wrapper">
        <div class="row row-fluid">





                <!-- #primary -->
                <div id="primary" class="site-content">

                    <!-- #content -->
                    <div id="content" role="main">
                      <!-- InstanceBeginEditable name="Middle-Content" -->

<!-- .blog-single -->
<div class="blog-single readable-content">


    <!-- .hentry -->
    <article class="post type-post format-standard hentry">

        <!-- .entry-content -->
        <div class="entry-content" id="book">
            <header class="entry-header">
                <h1 class="entry-title"><a href="/learn-swift">LEARN SWIFT</a></h1>
            </header>

            <div id="cid33" data-tralics-id="cid33" class="chapter" data-number="9" data-chapter="control_flow"><h1><a href="control_flow#cid33" class="heading hyperref"><span class="number">Chapter 9 </span>Control Flow</a></h1>
</div><div id="cid34" data-tralics-id="cid34" class="section" data-number="9.1"><h2><a href="control_flow#cid34" class="heading hyperref"><span class="number">9.1 </span>if</a></h2>
<p>Here’s an example of using an if statement in Swift.<span class="intersentencespace"></span> The condition can only contain operators that returns a boolean value.</p>
<div class="code"><div class="highlight"><pre><span class="k">let</span> <span class="n">capacity</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">var</span> <span class="n">reservations</span> <span class="o">=</span> <span class="mi">10</span>

<span class="k">if</span><span class="p">(</span><span class="n">reservations</span> <span class="o">&gt;=</span> <span class="n">capacity</span><span class="p">){</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"Sorry, the inn is full"</span><span class="p">)</span>
<span class="p">}</span>
</pre></div></div>
<p>Here’s the syntax for a second condition and a default catch-all condition:</p>
<div class="code"><div class="highlight"><pre><span class="k">if</span><span class="p">(</span><span class="n">reservations</span> <span class="o">&gt;=</span> <span class="n">capacity</span><span class="p">){</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"Sorry, the inn is full"</span><span class="p">)</span>
<span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">((</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">reservations</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"only 1 place left!"</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span><span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="s">"plenty of room at the inn"</span><span class="p">)</span>
<span class="p">}</span>
</pre></div></div>
<p>Swift also has the <code>if let</code> statement which is used to handle optionals and do something if and only if the optional has a value.<span class="intersentencespace"></span> We’ll cover <code>if let</code> when we talk about optionals in <a href="optionals#cha-optionals" class="hyperref">chapter <span class="ref">10</span></a>.</p>
</div><div id="cid35" data-tralics-id="cid35" class="section" data-number="9.2"><h2><a href="control_flow#cid35" class="heading hyperref"><span class="number">9.2 </span>Loops</a></h2>
<div id="uid61" data-tralics-id="uid61" class="subsection" data-number="9.2.1"><h3><a href="control_flow#uid61" class="heading hyperref"><span class="number">9.2.1 </span>for and for-in</a></h3>
<p>Swift has a standard <code>for</code> loop that is similar to the kind you would encounter in c, java etc.<span class="intersentencespace"></span> It takes a variable, a condition, and an increment.<span class="intersentencespace"></span> For example, here we print out every 2nd number in a sequence using a var <code>i</code>.<span class="intersentencespace"></span> This loop starts with <code>i</code> set to 0 and terminates when <code>i</code> exceeds the number of elements in the array, and increments <code>i</code> by 2 each time it executes the loop.</p>
<div class="code"><div class="highlight"><pre><span class="k">let</span> <span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>

<span class="k">for</span> <span class="k">var</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">numbers</span><span class="p">.</span><span class="n">count</span><span class="p">;</span> <span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span> <span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"\(numbers[i])"</span><span class="p">)</span>
<span class="p">}</span>
</pre></div></div>
<p>Swift’s <code>for-in</code> loop is more akin to iterators in Ruby/Python.<span class="intersentencespace"></span> You can use it to iterate through each element in a sequence.</p>
<div class="code"><div class="highlight"><pre><span class="k">let</span> <span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>

<span class="k">for</span> <span class="n">num</span> <span class="k">in</span> <span class="n">numbers</span><span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="p">}</span>
</pre></div></div>
<p>This example shows how to use a for-in loop to iterate over every element in a sequence.</p>
<p>In Swift, functions are first class objects, and there is strong support for closures.<span class="intersentencespace"></span> So we can also adopt the common patterns that you’ll encounter in functional languages of applying a closure to a sequence.<span class="intersentencespace"></span> For example we can apply a function to every element in a sequence and collect the results using built in functions such as <code>map</code> and <code>reduce</code>.<span class="intersentencespace"></span> We’ll get into that in more detail in <a href="functions#cha-functions" class="hyperref">chapter <span class="ref">11</span></a>.</p>
</div>
<div id="uid62" data-tralics-id="uid62" class="subsection" data-number="9.2.2"><h3><a href="control_flow#uid62" class="heading hyperref"><span class="number">9.2.2 </span>while</a></h3>
<p>A <code>while</code> loop will keep executing until the condition is false.<span class="intersentencespace"></span> It evaluates the condition before executing the loop, so it can execute 0 or more times.</p>
<div class="code"><div class="highlight"><pre><span class="k">let</span> <span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="k">var</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">numbers</span><span class="p">.</span><span class="n">count</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"\(numbers[i])"</span><span class="p">)</span>
    <span class="n">i</span><span class="o">++</span>
<span class="p">}</span>
</pre></div></div>
</div>
<div id="uid63" data-tralics-id="uid63" class="subsection" data-number="9.2.3"><h3><a href="control_flow#uid63" class="heading hyperref"><span class="number">9.2.3 </span>do…while</a></h3>
<p><code>do...while</code> evaluates the condition <em>after</em> running through the loop.<span class="intersentencespace"></span> So in this case the body of the loop will be executed at least once.<span class="intersentencespace"></span> (I’ve simplified the conditional to just true/false in the examples below to show that the loop runs once even though the condition terminates the first time that it’s checked.</p>
<div class="code"><div class="highlight"><pre><span class="k">var</span> <span class="n">i2</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"\(numbers[i2])"</span><span class="p">)</span>
    <span class="n">i2</span><span class="o">++</span>
<span class="p">}</span> <span class="k">while</span> <span class="nb">false</span>
</pre></div></div>
<p>Even though the condition terminates the loop the first time it’s checked here, the loop body runs once before that check takes place.</p>
</div></div><div id="cid36" data-tralics-id="cid36" class="section" data-number="9.3"><h2><a href="control_flow#cid36" class="heading hyperref"><span class="number">9.3 </span>switch</a></h2>
<p>Swift’s <code>switch</code> statement is analogous to <code>switch</code> or <code>case</code> statements in many other languages.<span class="intersentencespace"></span> But <code>switch</code> in Swift supports more complex behaviour so you’ll find that in Swift you will use the <code>switch</code> statement a lot more that you may be accustomed to.</p>
<p>Here’s an example of a simple switch statement:</p>
<div class="code"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="k">let</span> <span class="n">capacity</span> <span class="o">=</span> <span class="mi">10</span>
<span class="lineno"> 2</span> <span class="k">var</span> <span class="n">reservations</span> <span class="o">=</span> <span class="mi">10</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="k">switch</span> <span class="p">(</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">reservations</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 5</span> <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
<span class="lineno"> 6</span>     <span class="n">println</span><span class="p">(</span><span class="s">"Sorry, the inn is full"</span><span class="p">)</span>
<span class="lineno"> 7</span> <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
<span class="lineno"> 8</span>     <span class="n">println</span><span class="p">(</span><span class="s">"Only 1 place left"</span><span class="p">)</span>
<span class="lineno"> 9</span> <span class="k">case</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="o">:</span>
<span class="lineno">10</span>     <span class="n">println</span><span class="p">(</span><span class="s">"Getting close to full now"</span><span class="p">)</span>
<span class="lineno">11</span>     <span class="c1">// switch must be exhaustive, default clause needed</span>
<span class="lineno">12</span> <span class="k">default</span><span class="o">:</span>
<span class="lineno">13</span>     <span class="n">println</span><span class="p">(</span><span class="s">"plenty or room at the inn"</span><span class="p">)</span>
<span class="lineno">14</span> <span class="p">}</span>
</pre></div></div>
<p>In the above example we match our cases against the difference between capacity and reservations.<span class="intersentencespace"></span> Each case can match a single value (line 5, 7) or multiple possible values (line 9).<span class="intersentencespace"></span> There is a default case that executes when none of the preceding cases match (line 12).<span class="intersentencespace"></span> The <code>default</code> condition is usually required.<span class="intersentencespace"></span> The set of conditions for a <code>switch</code> statement must be exhaustive - your set of cases must cover all possible values of whatever you are matching against.<span class="intersentencespace"></span> Thus in the example above, if you remove the <code>default</code> clause, you’ll get a compiler error.<span class="intersentencespace"></span> You need to either have a default clause, or ensure that the cases are exhaustive.</p>
<p>The <code>switch</code> statement in Swift supports some interesting use of pattern matching.<span class="intersentencespace"></span> This makes it a much more useful that the simple switch statement outlined above and you will probably find yourself using it a lot more than you that you do in other languages.<span class="intersentencespace"></span> Lets take a look at a pattern matching example.</p>
<p>The <code>switch</code> statement takes a value and compares it against a set of defined patterns.<span class="intersentencespace"></span> It then executes the block of code associated with the <em>first pattern that matches the value</em>.<span class="intersentencespace"></span> It will only execute the first matching branch in a switch statement (i.e.<span class="intersentencespace"></span> if more than one branch matches, it will not continue through the switch after executing the first branch and execute the second matching branch too - the switch statement returns after executing the branch associated with the first match)<sup id="cha-9_footnote-ref-1" class="footnote"><a href="#cha-9_footnote-1">1</a></sup>.</p>
<p>In our previous example, the pattern matching involved consists of a simple equality check i.e.<span class="intersentencespace"></span> we check the value of (capacity - reservations) against the value given in each of the case branches.<span class="intersentencespace"></span> So we check if the value of <code>(capacity - reservations)</code> equals 0, or equals 1 or equals 2, 3 or 4.<span class="intersentencespace"></span> And if it isn’t equal to any of them we execute the default branch.</p>
<p>But we can do more than simple equality checks.<span class="intersentencespace"></span> We can also match against a range, or a tuple, or an enumeration <sup id="cha-9_footnote-ref-2" class="footnote"><a href="#cha-9_footnote-2">2</a></sup> using Swifts pattern matching functionality.<span class="intersentencespace"></span> In fact combining Swift’s pattern matching functionality with a switch statement is a pattern that we’ll use regularly for handling errors and processing the results of functions.</p>
<p>Lets look at some other examples of how we can match cases in switch statements.</p>
<p>We can match against a range.<span class="intersentencespace"></span> For example, we could rewrite the third case of our previous example using a range.</p>
<div class="code"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="k">switch</span> <span class="p">(</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">reservations</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 2</span> <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
<span class="lineno"> 3</span>     <span class="n">println</span><span class="p">(</span><span class="s">"Sorry, the inn is full"</span><span class="p">)</span>
<span class="lineno"> 4</span> <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
<span class="lineno"> 5</span>     <span class="n">println</span><span class="p">(</span><span class="s">"Only 1 place left"</span><span class="p">)</span>
<span class="lineno"> 6</span> <span class="k">case</span> <span class="mf">2.</span><span class="p">.</span><span class="o">&lt;</span><span class="mi">5</span><span class="o">:</span>
<span class="lineno"> 7</span>     <span class="n">println</span><span class="p">(</span><span class="s">"Getting close to full now"</span><span class="p">)</span>
<span class="lineno"> 8</span>     <span class="c1">// switch must be exhaustive, default clause needed</span>
<span class="lineno"> 9</span> <span class="k">default</span><span class="o">:</span>
<span class="lineno">10</span>     <span class="n">println</span><span class="p">(</span><span class="s">"plenty or room at the inn"</span><span class="p">)</span>
<span class="lineno">11</span> <span class="p">}</span>
</pre></div></div>
<p>Things start to get more interesting when we start to match against tuples and enums.</p>
<p>Lets revisit our previous example where we represented responses using a code and message, which we placed in a tuple.<span class="intersentencespace"></span> We can match our value against the tuple.<span class="intersentencespace"></span> In this example, we match against the code part of the tuple, and we don’t care about the value of the message so we match against any message using <code>_</code>.</p>
<div class="code"><div class="highlight"><pre><span class="k">let</span> <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="s">"OK"</span><span class="p">)</span>
<span class="k">switch</span> <span class="n">response</span><span class="p">{</span>
<span class="k">case</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span><span class="o">:</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"Looks good"</span><span class="p">)</span>
<span class="k">case</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span><span class="o">:</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"You got an error"</span><span class="p">)</span>
<span class="k">default</span><span class="o">:</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"Unrecognized response code"</span><span class="p">)</span>
<span class="p">}</span>
</pre></div></div>
<p>We can extend this to include a range and match the range against the tuple.<span class="intersentencespace"></span> For example, http status codes are grouped according to the first digit of the code.<sup id="cha-9_footnote-ref-3" class="footnote intersentence"><a href="#cha-9_footnote-3">3</a></sup><span class="intersentencespace"></span>.<span class="intersentencespace"></span> E.g.<span class="intersentencespace"></span> Codes 2xx indicate success, 3xx redirection, 4xx errors etc.<span class="intersentencespace"></span> We can extend the above to capture error and success codes:</p>
<div class="code"><div class="highlight"><pre><span class="k">switch</span> <span class="n">response</span><span class="p">{</span>
<span class="k">case</span> <span class="p">(</span><span class="mf">200.</span><span class="p">.</span><span class="o">&lt;</span><span class="mi">300</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span><span class="o">:</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"Looks good"</span><span class="p">)</span>
<span class="k">case</span> <span class="p">(</span><span class="mf">500.</span><span class="p">.</span><span class="o">&lt;</span><span class="mi">600</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span><span class="o">:</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"You got an error"</span><span class="p">)</span>
<span class="k">default</span><span class="o">:</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"Unrecognized response code"</span><span class="p">)</span>
<span class="p">}</span>
</pre></div></div>
<p>Now our switch statement treats all the 5xx codes as errors and all the 2xx codes as success.</p>
<p>We may want to do some extra processing on the value that we matched within the branch of a switch statement.<span class="intersentencespace"></span> We can use <code>let</code> to assign a temporary name to the match.<span class="intersentencespace"></span> Lets say we cared about the value of message for 5xx codes.<span class="intersentencespace"></span> We can capture the value of message using <code>let msg</code> in the match for that branch of the switch statement as shown below:<sup id="cha-9_footnote-ref-4" class="footnote"><a href="#cha-9_footnote-4">4</a></sup></p>
<div class="code"><div class="highlight"><pre><span class="k">switch</span> <span class="n">response</span><span class="p">{</span>
<span class="k">case</span> <span class="p">(</span><span class="mf">200.</span><span class="p">.</span><span class="o">&lt;</span><span class="mi">300</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span><span class="o">:</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"Looks good"</span><span class="p">)</span>
<span class="k">case</span> <span class="p">(</span><span class="mf">500.</span><span class="p">.</span><span class="o">&lt;</span><span class="mi">600</span><span class="p">,</span> <span class="k">let</span> <span class="n">msg</span><span class="p">)</span><span class="o">:</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"You got an error: \(msg)"</span><span class="p">)</span>
<span class="k">default</span><span class="o">:</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"Unrecognized response code"</span><span class="p">)</span>
<span class="p">}</span>
</pre></div></div>
<p>Now we can print the error message when we get an error and ignore it otherwise.</p>
<p>We can also add extra conditions to our match by adding a <code>where</code> clause.<span class="intersentencespace"></span> For the sake of continuing the above example, lets say our system only accepts even success status codes, and displays a warning for odd success status codes.<span class="intersentencespace"></span> We can do that by adding a <code>where</code> clause.</p>
<div class="code"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="k">let</span> <span class="n">response2</span> <span class="o">=</span> <span class="p">(</span><span class="nl">code</span><span class="p">:</span> <span class="mi">203</span><span class="p">,</span> <span class="nl">message</span><span class="p">:</span> <span class="s">"Non-Authoritative Information"</span><span class="p">)</span>
<span class="lineno"> 2</span> <span class="k">switch</span> <span class="n">response2</span><span class="p">{</span>
<span class="lineno"> 3</span> <span class="k">case</span> <span class="p">(</span><span class="mf">200.</span><span class="p">.</span><span class="o">&lt;</span><span class="mi">300</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="k">where</span> <span class="p">(</span><span class="n">response2</span><span class="p">.</span><span class="n">code</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="o">:</span>
<span class="lineno"> 4</span>     <span class="n">println</span><span class="p">(</span><span class="s">"Looks good"</span><span class="p">)</span>
<span class="lineno"> 5</span> <span class="k">case</span> <span class="p">(</span><span class="mf">200.</span><span class="p">.</span><span class="o">&lt;</span><span class="mi">300</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="k">where</span> <span class="p">(</span><span class="n">response2</span><span class="p">.</span><span class="n">code</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="o">:</span>
<span class="lineno"> 6</span>     <span class="n">println</span><span class="p">(</span><span class="s">"Warning: Stop using odd response codes"</span><span class="p">)</span>
<span class="lineno"> 7</span> <span class="k">case</span> <span class="p">(</span><span class="mf">500.</span><span class="p">.</span><span class="o">&lt;</span><span class="mi">600</span><span class="p">,</span> <span class="k">let</span> <span class="n">msg</span><span class="p">)</span><span class="o">:</span>
<span class="lineno"> 8</span>     <span class="n">println</span><span class="p">(</span><span class="s">"You got an error: \(msg)"</span><span class="p">)</span>
<span class="lineno"> 9</span> <span class="k">default</span><span class="o">:</span>
<span class="lineno">10</span>     <span class="n">println</span><span class="p">(</span><span class="s">"Unrecognized response code"</span><span class="p">)</span>
<span class="lineno">11</span> <span class="p">}</span>
</pre></div></div>
<p>In this example, we treat even success codes differently to odd success codes by providing additional matching conditions using the <code>where</code> clauses at lines 3 and 5.</p>
<p>We can also match a value against an Enumerable.<span class="intersentencespace"></span> This is an important topic and I’m not going to broach it here.<span class="intersentencespace"></span> We’ll cover this in more detail in our chapters on Enumerations, Functions and Error Handling.</p>
</div><div id="cid37" data-tralics-id="cid37" class="section" data-number="9.4"><h2><a href="control_flow#cid37" class="heading hyperref"><span class="number">9.4 </span>Altering control</a></h2>
<p>Swift has a few of ways of modifying control in a loop:</p>
<ul>
<li><code>break</code> terminates the current loop.<span class="intersentencespace"></span>
</li>
<li><code>continue</code> jumps to the next iteration of the current loop (i.e.<span class="intersentencespace"></span> <code>next</code>)
</li>
<li><code>fallthrough</code> is used in switch statements to fallthrough to the next branch in the switch.<span class="intersentencespace"></span> So you can use this to force more than one branch of a switch statement to execute.<span class="intersentencespace"></span>
</li></ul>
<div id="uid71" data-tralics-id="uid71" class="subsection" data-number="9.4.1"><h3><a href="control_flow#uid71" class="heading hyperref"><span class="number">9.4.1 </span>guard</a></h3>
<p>The <code>guard</code> statement was introduced in Swift 2 and it lets you check a condition and exit if it’s not true.<span class="intersentencespace"></span> In contrast to an <code>if</code> statement, which runs it’s body if some boolean condition is true, the guard statement body only runs it’s body if its condition is false.</p>
<p>So it’s a bit like an <code>assert</code> but you have more control over what happens when the condition isn’t met and the <code>guard</code> statement gets triggered.</p>
<div class="code"><div class="highlight"><pre><span class="k">func</span> <span class="nf">printEvenPostiveNumber</span><span class="p">(</span><span class="nl">num</span><span class="p">:</span> <span class="n">Int</span><span class="p">){</span>
    <span class="n">guard</span> <span class="n">num</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">print</span><span class="p">(</span><span class="s">"\(num) is not &gt; 0"</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="n">guard</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">print</span><span class="p">(</span><span class="s">"\(num) is not even"</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="n">print</span><span class="p">(</span><span class="s">"\(num) is positive and even"</span><span class="p">)</span>
		<span class="c1">// do something</span>
<span class="p">}</span>

<span class="n">printEvenPostiveNumber</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// "-1 is not &gt; 0\n"</span>
<span class="n">printEvenPostiveNumber</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1">// "3 is not even\n"</span>
<span class="n">printEvenPostiveNumber</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>  <span class="c1">// "6 is positive and even\n"</span>
</pre></div></div>
<p>Here’s a function that should only deal with positive even numbers.<span class="intersentencespace"></span> In this example we have 2 <code>guard</code> statements that check if the argument passed to the function is positive and even.<span class="intersentencespace"></span> If the argument fails either of those checks the <code>guard</code> statement gets triggered and our function returns early.<span class="intersentencespace"></span> Only positive, even numbers make it through the 2 <code>guard</code> clauses.</p>
</div>
<div id="uid72" data-tralics-id="uid72" class="subsection" data-number="9.4.2"><h3><a href="control_flow#uid72" class="heading hyperref"><span class="number">9.4.2 </span>Labeled statements</a></h3>
<p>Labeled statements allow you to attach a label to a loop or switch statement, and then you can use that label with a break or continue statement to stop or continue execution of the labelled statement.<span class="intersentencespace"></span> I would be cautious about using these as they remind me a bit of goto<sup id="cha-9_footnote-ref-5" class="footnote"><a href="#cha-9_footnote-5">5</a></sup>.<span class="intersentencespace"></span> There may be cases (e.g.<span class="intersentencespace"></span> long nested loops, where the addition of labels adds clarity) where they are the best way of encoding your program logic, but I think they should probably a last resort, used for cases where other techniques have been exhausted.<span class="intersentencespace"></span> But they do allow for customizable looping behaviour.<span class="intersentencespace"></span> You can provide a label for any looping construct in Swift and then you can send that label to a break or continue statement cause control to jump to the labelled loop.</p>
</div></div><div id="cha-9_footnotes">
  <ol class="footnotes">
    <li id="cha-9_footnote-1">Matching only the first matching case in a switch statement is the default behaviour.<span class="intersentencespace"></span> However you can change this behaviour using <code>fallthrough</code>.<span class="intersentencespace"></span> This will indicate to swift that if it matches a case, it should continue trying to match the following cases in the switch statement.<span class="intersentencespace"></span> Thus you can setup a switch statement where you can match multiple branches. <a class="arrow" href="#cha-9_footnote-ref-1">↑</a></li>
    <li id="cha-9_footnote-2">Pattern matching against an enum using <code>switch</code> is a common pattern in swift.<span class="intersentencespace"></span> We’ll see later how this pattern is used to handle return values from functions, and especially how it is used to handlers errors. <a class="arrow" href="#cha-9_footnote-ref-2">↑</a></li>
    <li id="cha-9_footnote-3">http://en.wikipedia.org/wiki/List_of_HTTP_status_codes <a class="arrow" href="#cha-9_footnote-ref-3">↑</a></li>
    <li id="cha-9_footnote-4">You could also do this by providing a name for the fields of the response and then accessing it directly in the body of the switch statement, similar to the next example. <a class="arrow" href="#cha-9_footnote-ref-4">↑</a></li>
    <li id="cha-9_footnote-5">http://www.u.arizona.edu/<span class="inline_math">\( \sim  \)</span>rubinson/copyright_violations/Go_To_Considered_Harmful.html <a class="arrow" href="#cha-9_footnote-ref-5">↑</a></li>
  </ol>
</div>
        </div>
        <!-- .entry-content -->


    </article>
    <!-- .hentry -->

            <!-- .entry-meta -->
        <div class="entry-meta">
            last updated
            on
            <time class="entry-date" datetime="2016-02-01T07:04:11+00:00">Feb 1, 2016
            </time>

            <!-- .share-links -->
            <div class="share-links">
                <a>SHARE</a>

                <!-- .share-wrap -->
                <div class="share-wrap">

                    <!-- .facebook-wrap -->
                    <div class="facebook-wrap">

                        <div id="fb-root"></div>
                        <script>(function (d, s, id) {
                            var js, fjs = d.getElementsByTagName(s)[0];
                            if (d.getElementById(id)) return;
                            js = d.createElement(s);
                            js.id = id;
                            js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
                            fjs.parentNode.insertBefore(js, fjs);
                        }(document, 'script', 'facebook-jssdk'));</script>
                        <div class="fb-like" data-send="false" data-layout="button_count" data-width="400"
                             data-show-faces="false" data-colorscheme="light" data-action="like"></div>

                    </div>
                    <!-- .facebook-wrap -->

                    <!-- .twitter-wrap -->
                    <div class="twitter-wrap">
                        <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        <script>!function (d, s, id) {
                            var js, fjs = d.getElementsByTagName(s)[0];
                            if (!d.getElementById(id)) {
                                js = d.createElement(s);
                                js.id = id;
                                js.src = "//platform.twitter.com/widgets.js";
                                fjs.parentNode.insertBefore(js, fjs);
                            }
                        }(document, "script", "twitter-wjs");</script>
                    </div>
                    <!-- .twitter-wrap -->

                    <!-- .google-wrap -->
                    <div class="google-wrap">
                        <!-- Place this tag where you want the +1 button to render. -->
                        <div class="g-plusone" data-size="medium"></div>

                        <!-- Place this tag after the last +1 button tag. -->
                        <script type="text/javascript">
                            (function () {
                                var po = document.createElement('script');
                                po.type = 'text/javascript';
                                po.async = true;
                                po.src = 'https://apis.google.com/js/plusone.js';
                                var s = document.getElementsByTagName('script')[0];
                                s.parentNode.insertBefore(po, s);
                            })();
                        </script>
                    </div>
                    <!-- .google-wrap -->

                    <!-- .pinterest-wrap -->
                    <div class="pinterest-wrap">
                        <a href="http://pinterest.com/pin/create/button/?url=http%3A%2F%2Fthemes.pixelwars.org%2Fread%2Fblog-single.html&media=http%3A%2F%2Fthemes.pixelwars.org%2Fread%2Fimages%2Fblog%2Fblog-01.jpg&description=Adaptive%20Vs.%20Responsive%20Layouts%20And%20Optimal%20Form%20Field%20Labels"
                           class="pin-it-button" count-layout="horizontal"><img
                                src="//assets.pinterest.com/images/PinExt.png" alt="Pin It" title="Pin It"/></a>
                        <script type="text/javascript" src="//assets.pinterest.com/js/pinit.js"></script>
                    </div>
                    <!-- .pinterest-wrap -->

                </div>
                <!-- .share-wrap -->


            </div>
            <!-- .share-links -->


        </div>
        <!-- .entry-meta -->

    <!-- .nav-single -->

    
    
    

    <nav class="nav-single row-fluid">
        
        <div class="nav-previous span6">
            <h4>PREVIOUS CHAPTER</h4>
            <a href="/learn-swift/tuples" rel="prev"><span class="meta-nav">←</span> Tuples</a>
        </div>
        

        
        <div class="nav-next span6">
            <h4>NEXT CHAPTER</h4>
            <a href="/learn-swift/optionals" rel="next">Optionals <span class="meta-nav">→</span></a>
        </div>
        

    </nav>
    <!-- .nav-single -->

</div>
<!-- .blog-single -->


<!-- InstanceEndEditable -->
                    </div>
                    <!-- #content -->

                </div>
                <!-- #primary -->





         </div>
      </section>
      <!-- #main -->





          <!-- .site-footer -->
      <footer class="site-footer wrapper" role="contentinfo">
        <!-- .row -->
        <div class="row">


          <!-- #supplementary -->
          <div id="supplementary" class="row-fluid">


            <!-- .widget-area -->
            <!--<div class="widget-area span3" role="complementary">

              <aside class="widget widget_text">
                <h3 class="widget-title">About Read</h3>
                <div class="textwidget">Read is a minimalistic wordpress theme focused on readability. This is a just text widget with some dummy content. This is a just text widget with some dummy content. This is a just text widget with some dummy content.</div>
              </aside>

            </div>-->
            <!-- .widget-area -->


            <!-- .widget-area -->
            <!--<div class="widget-area span3" role="complementary">

              <aside class="widget widget_recent_entries">
                  <h3 class="widget-title">Recent Posts</h3>
                  <ul>
                    <li><a href="#" title="Thinking About Responsive Design">Thinking About Responsive Design</a></li>
                    <li><a href="#" title="Adaptive Vs. Responsive Layouts And Optimal Form Field Labels">Adaptive Vs. Responsive Layouts And Optimal Form Field Labels</a></li>
                    <li><a href="#" title="Hello world!">Hello world!</a></li>
                  </ul>
                </aside>

            </div>-->
            <!-- .widget-area -->

            <!-- .widget-area -->
            <!--<div class="widget-area span3" role="complementary">

              <aside class="widget widget-instagram">
                  <h3 class="widget-title">Photos on Instagram</h3>
                  <div class="instagram"></div>
                  <script src="../js/instagram.js"></script>
                </aside>

            </div>-->
            <!-- .widget-area -->

            <!-- .widget-area -->
            <!--<div class="widget-area span3" role="complementary">

              <aside class="widget widget_categories">
                  <h3 class="widget-title">Categories</h3>
                  <ul>
                    <li><a href="#" title="View all posts filed under Uncategorized">Web Design</a></li>
                    <li><a href="#" title="View all posts filed under Uncategorized">Javascript</a></li>
                    <li><a href="#" title="View all posts filed under Uncategorized">Typography</a></li>
                    <li><a href="#" title="View all posts filed under Uncategorized">Freebies</a></li>
                  </ul>
                </aside>

            </div>-->
            <!-- .widget-area -->


          </div>
          <!-- #supplementary -->


          <!-- .site-info -->
          <div class="site-info">(c) Aidan Finn</div>
          <!-- .site-info -->

        </div>
        <!-- .row -->
      </footer>
      <!-- .site-footer -->

    </div>
    <!-- #PAGE -->




    <!-- SCRIPTS -->
    <script src="/js/detectmobilebrowser.js"></script>
    <script src="/js/modernizr.js"></script>
    <script src="/js/jquery.imagesloaded.min.js"></script>
    <script src="/js/jquery.fitvids.js"></script>
    <script src="/js/jquery.uniform.min.js"></script>

    <!-- InstanceBeginEditable name="body-end" -->
    <script src="/js/jquery.validate.min.js"></script>
	<!-- InstanceEndEditable -->

    <script src="/js/main.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-539512-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
<!-- InstanceEnd --></html>
